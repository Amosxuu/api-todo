(function(e){function t(t){for(var a,o,s=t[0],c=t[1],u=t[2],l=0,f=[];l<s.length;l++)o=s[l],r[o]&&f.push(r[o][0]),r[o]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(e[a]=c[a]);v&&v(t);while(f.length)f.shift()();return i.push.apply(i,u||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],a=!0,s=1;s<n.length;s++){var c=n[s];0!==r[c]&&(a=!1)}a&&(i.splice(t--,1),e=o(o.s=n[0]))}return e}var a={},r={app:0},i=[];function o(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=e,o.c=a,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)o.d(n,a,function(t){return e[t]}.bind(null,a));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=t,s=s.slice();for(var u=0;u<s.length;u++)t(s[u]);var v=c;i.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"034f":function(e,t,n){"use strict";var a=n("04f5"),r=n.n(a);r.a},"039f":function(e,t,n){},"04f5":function(e,t,n){},1328:function(e,t,n){},1446:function(e,t,n){"use strict";var a=n("1a48"),r=n.n(a);r.a},"1a23":function(e,t,n){"use strict";var a=n("4e8a"),r=n.n(a);r.a},"1a48":function(e,t,n){},"1c3a":function(e,t,n){"use strict";var a=n("1328"),r=n.n(a);r.a},"34c0":function(e,t,n){"use strict";var a=n("b383"),r=n.n(a);r.a},"4e6a":function(e,t,n){"use strict";var a=n("6646"),r=n.n(a);r.a},"4e8a":function(e,t,n){},5544:function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);var a={};n.r(a),n.d(a,"state",function(){return ee});var r={};n.r(r),n.d(r,"namespaced",function(){return ie}),n.d(r,"state",function(){return oe}),n.d(r,"mutations",function(){return se}),n.d(r,"actions",function(){return ce}),n.d(r,"getters",function(){return ue});var i={};n.r(i),n.d(i,"namespaced",function(){return ve}),n.d(i,"state",function(){return le}),n.d(i,"mutations",function(){return pe}),n.d(i,"actions",function(){return de});n("a481"),n("ac6a"),n("cadf"),n("551c"),n("097d");var o=n("2b0e"),s=n("8103"),c=n.n(s),u=n("bba4"),v=n.n(u),l=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("NavBar"),n("NotificationContainer"),n("router-view",{key:e.$route.fullPath})],1)},f=[],p=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"nav",attrs:{id:"nav"}},[n("router-link",{staticClass:"brand",attrs:{to:"/"}},[e._v("Real World Events")]),n("nav",[n("router-link",{attrs:{to:{name:"event-list"}}},[e._v("List")]),e._v(" |\n    "),n("router-link",{attrs:{to:{name:"event-create"}}},[e._v("Create")])],1)],1)},d=[],m={},h=m,_=(n("f5cb"),n("2877")),g=Object(_["a"])(h,p,d,!1,null,"33f31b9c",null);g.options.__file="NavBar.vue";var b=g.exports,E=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"notification-container"},e._l(e.notifications,function(e){return n("NotificationBar",{key:e.id,attrs:{notification:e}})}))},y=[],w=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"notification-bar",class:e.notificationTypeClass},[n("p",[e._v(e._s(e.notification.message))])])},T=[],C=n("2f62"),O={props:{notification:{type:Object,required:!0}},data:function(){return{timeout:null}},mounted:function(){var e=this;this.timeout=setTimeout(function(){return e.remove(e.notification)},5e3)},beforeDestroy:function(){clearTimeout(this.timeout)},computed:{notificationTypeClass:function(){return"-text-".concat(this.notification.type)}},methods:Object(C["b"])("notification",["remove"])},x=O,N=(n("4e6a"),Object(_["a"])(x,w,T,!1,null,"13bee7dc",null));N.options.__file="NotificationBar.vue";var j=N.exports,S={components:{NotificationBar:j},computed:Object(C["c"])("notification",["notifications"])},$=S,P=(n("34c0"),Object(_["a"])($,E,y,!1,null,"69480408",null));P.options.__file="NotificationContainer.vue";var k=P.exports,A={components:{NavBar:b,NotificationContainer:k}},B=A,D=(n("034f"),Object(_["a"])(B,l,f,!1,null,null,null));D.options.__file="App.vue";var I=D.exports,L=n("8c4f"),V=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("h1",[e._v("Create an Event")]),n("form",{on:{submit:function(t){return t.preventDefault(),e.createEvent(t)}}},[n("label",[e._v("Select a category")]),n("select",{directives:[{name:"model",rawName:"v-model",value:e.event.category,expression:"event.category"}],on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.$set(e.event,"category",t.target.multiple?n:n[0])}}},e._l(e.categories,function(t){return n("option",{key:t},[e._v(e._s(t))])})),n("h3",[e._v("Name & describe your event")]),n("div",{staticClass:"field"},[n("label",[e._v("Title")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.event.title,expression:"event.title"}],attrs:{type:"text",placeholder:"Add an event title"},domProps:{value:e.event.title},on:{input:function(t){t.target.composing||e.$set(e.event,"title",t.target.value)}}})]),n("div",{staticClass:"field"},[n("label",[e._v("Description")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.event.description,expression:"event.description"}],attrs:{type:"text",placeholder:"Add a description"},domProps:{value:e.event.description},on:{input:function(t){t.target.composing||e.$set(e.event,"description",t.target.value)}}})]),n("h3",[e._v("Where is your event?")]),n("div",{staticClass:"field"},[n("label",[e._v("Location")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.event.location,expression:"event.location"}],attrs:{type:"text",placeholder:"Add a location"},domProps:{value:e.event.location},on:{input:function(t){t.target.composing||e.$set(e.event,"location",t.target.value)}}})]),n("h3",[e._v("When is your event?")]),n("div",{staticClass:"field"},[n("label",[e._v("Date")]),n("datepicker",{attrs:{placeholder:"Select a date"},model:{value:e.event.date,callback:function(t){e.$set(e.event,"date",t)},expression:"event.date"}})],1),n("div",{staticClass:"field"},[n("label",[e._v("Select a time")]),n("select",{directives:[{name:"model",rawName:"v-model",value:e.event.time,expression:"event.time"}],on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.$set(e.event,"time",t.target.multiple?n:n[0])}}},e._l(e.times,function(t){return n("option",{key:t},[e._v(e._s(t))])}))]),n("input",{staticClass:"button -fill-gradient",attrs:{type:"submit",value:"Submit"}})])])},M=[],q=n("fa33"),U={components:{Datepicker:q["a"]},data:function(){for(var e=[],t=1;t<=24;t++)e.push(t+":00");return{times:e,categories:this.$store.state.categories,event:this.createFreshEventObject()}},methods:{createEvent:function(){var e=this;this.$store.dispatch("event/createEvent",this.event).then(function(){e.$router.push({name:"event-show",params:{id:e.event.id}}),e.event=e.createFreshEventObject()}).catch(function(){})},createFreshEventObject:function(){var e=this.$store.state.user.user,t=Math.floor(1e7*Math.random());return{id:t,user:e,category:"",organizer:e,title:"",description:"",location:"",date:"",time:"",attendees:[]}}}},z=U,F=(n("1c3a"),Object(_["a"])(z,V,M,!1,null,"44816859",null));F.options.__file="EventCreate.vue";var W=F.exports,H=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("h1",[e._v("Events for "+e._s(e.user.user.name))]),e._l(e.event.events,function(e){return n("EventCard",{key:e.id,attrs:{event:e}})}),1!=e.page?[n("router-link",{attrs:{to:{name:"event-list",query:{page:e.page-1}},rel:"prev"}},[e._v("\n    Prev Page")]),e.hasNextPage?[e._v(" | ")]:e._e()]:e._e(),e.hasNextPage?n("router-link",{attrs:{to:{name:"event-list",query:{page:e.page+1}},rel:"next"}},[e._v("\n    Next Page")]):e._e()],2)},J=[],R=n("c93e"),Y=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("router-link",{staticClass:"event-link",attrs:{to:{name:"event-show",params:{id:e.event.id}}}},[n("div",{staticClass:"event-card -shadow"},[n("span",{staticClass:"eyebrow"},[e._v("@"+e._s(e.event.time)+" on "+e._s(e.event.date))]),n("h4",{staticClass:"title"},[e._v(e._s(e.event.title))]),n("BaseIcon",{attrs:{name:"users"}},[e._v(e._s(e.event.attendees.length)+" attending")])],1)])},G=[],K={props:{event:Object}},Q=K,X=(n("1446"),Object(_["a"])(Q,Y,G,!1,null,"120b49a6",null));X.options.__file="EventCard.vue";var Z=X.exports,ee={user:{id:"abc123",name:"Adam"}},te=(n("7514"),n("bc3a")),ne=n.n(te),ae=ne.a.create({baseURL:"http://localhost:3000",withCredentials:!1,headers:{Accept:"application/json","Content-Type":"application/json"}}),re={getEvents:function(e,t){return ae.get("/events?_limit="+e+"&_page="+t)},getEvent:function(e){return ae.get("/events/"+e)},postEvent:function(e){return ae.post("/events",e)}},ie=!0,oe={events:[],eventsTotal:0,event:{},perPage:3},se={ADD_EVENT:function(e,t){e.events.push(t)},SET_EVENTS:function(e,t){e.events=t},SET_EVENTS_TOTAL:function(e,t){e.eventsTotal=t},SET_EVENT:function(e,t){e.event=t}},ce={createEvent:function(e,t){var n=e.commit,a=e.dispatch;return re.postEvent(t).then(function(){n("ADD_EVENT",t);var e={type:"success",message:"Your event has been created!"};a("notification/add",e,{root:!0})}).catch(function(e){var t={type:"error",message:"There was a problem creating your event: "+e.message};throw a("notification/add",t,{root:!0}),e})},fetchEvents:function(e,t){var n=e.commit,a=e.dispatch,r=e.state,i=t.page;return re.getEvents(r.perPage,i).then(function(e){n("SET_EVENTS_TOTAL",parseInt(e.headers["x-total-count"])),n("SET_EVENTS",e.data)}).catch(function(e){var t={type:"error",message:"There was a problem fetching events: "+e.message};a("notification/add",t,{root:!0})})},fetchEvent:function(e,t){var n=e.commit,a=e.getters,r=e.dispatch,i=a.getEventById(t);return i?(n("SET_EVENT",i),i):re.getEvent(t).then(function(e){return n("SET_EVENT",e.data),e.data}).catch(function(e){var t={type:"error",message:"There was a problem fetching event: "+e.message};r("notification/add",t,{root:!0})})}},ue={getEventById:function(e){return function(t){return e.events.find(function(e){return e.id===t})}}},ve=!0,le={notifications:[]},fe=1,pe={PUSH:function(e,t){e.notifications.push(Object(R["a"])({},t,{id:fe++}))},DELETE:function(e,t){e.notifications=e.notifications.filter(function(e){return e.id!==t.id})}},de={add:function(e,t){var n=e.commit;n("PUSH",t)},remove:function(e,t){var n=e.commit;n("DELETE",t)}};o["a"].use(C["a"]);var me=new C["a"].Store({modules:{user:a,event:r,notification:i},state:{categories:["sustainability","nature","animal welfare","housing","education","food","community"]}}),he={components:{EventCard:Z},created:function(){this.perPage=3,this.$store.dispatch("event/fetchEvents",{perPage:this.perPage,page:this.page})},computed:Object(R["a"])({page:function(){return parseInt(this.$route.query.page)||1},hasNextPage:function(){return this.event.eventsTotal>this.page*this.perPage}},Object(C["c"])(["event","user"]))},_e=he,ge=Object(_["a"])(_e,H,J,!1,null,null,null);ge.options.__file="EventList.vue";var be=ge.exports,Ee=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"event-header"},[n("span",{staticClass:"eyebrow"},[e._v("@"+e._s(e.event.time)+" on "+e._s(e.event.date))]),n("h1",{staticClass:"title"},[e._v(e._s(e.event.title))]),n("h5",[e._v("Organized by "+e._s(e.event.organizer?e.event.organizer.name:""))]),n("h5",[e._v("Category: "+e._s(e.event.category))])]),n("BaseIcon",{attrs:{name:"map"}},[n("h2",[e._v("Location")])]),n("address",[e._v(e._s(e.event.location))]),n("h2",[e._v("Event details")]),n("p",[e._v(e._s(e.event.description))]),n("h2",[e._v("Attendees\n    "),n("span",{staticClass:"badge -fill-gradient"},[e._v(e._s(e.event.attendees?e.event.attendees.length:0))])]),n("ul",{staticClass:"list-group"},e._l(e.event.attendees,function(t,a){return n("li",{key:a,staticClass:"list-item"},[n("b",[e._v(e._s(t.name))])])}))],1)},ye=[],we={props:{event:{type:Object,required:!0}}},Te=we,Ce=(n("1a23"),Object(_["a"])(Te,Ee,ye,!1,null,"475984c9",null));Ce.options.__file="EventShow.vue";var Oe=Ce.exports,xe=n("323e"),Ne=n.n(xe);o["a"].use(L["a"]);var je=new L["a"]({mode:"history",routes:[{path:"/",name:"event-list",component:be},{path:"/event/create",name:"event-create",component:W},{path:"/event/:id",name:"event-show",component:Oe,props:!0,beforeEnter:function(e,t,n){me.dispatch("event/fetchEvent",e.params.id).then(function(t){e.params.event=t,n()})}}]});je.beforeEach(function(e,t,n){Ne.a.start(),n()}),je.afterEach(function(){Ne.a.done()});var Se=je,$e=n("7461");n("a5d8");o["a"].component("BaseIcon",$e["default"]),o["a"].config.productionTip=!1;var Pe=n("ef13");Pe.keys().forEach(function(e){var t=Pe(e),n=c()(v()(e.replace(/^\.\/(.*)\.\w+$/,"$1")));o["a"].component(n,t.default||t)}),new o["a"]({router:Se,store:me,render:function(e){return e(I)}}).$mount("#app")},6646:function(e,t,n){},7461:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"icon-wrapper"},[n("svg",{staticClass:"icon",attrs:{width:e.width,height:e.height}},[n("use",e._b({},"use",{"xlink:href":"/feather-sprite.svg#"+e.name},!1))]),e._t("default")],2)},r=[],i=(n("c5f6"),n("cadf"),n("551c"),n("097d"),{name:"Icon",props:{name:String,width:{type:[Number,String],default:24},height:{type:[Number,String],default:24}}}),o=i,s=(n("7a87"),n("2877")),c=Object(s["a"])(o,a,r,!1,null,"70cb9f87",null);c.options.__file="BaseIcon.vue";t["default"]=c.exports},"7a87":function(e,t,n){"use strict";var a=n("5544"),r=n.n(a);r.a},b383:function(e,t,n){},ef13:function(e,t,n){var a={"./BaseIcon.vue":"7461"};function r(e){var t=i(e);return n(t)}function i(e){var t=a[e];if(!(t+1)){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}return t}r.keys=function(){return Object.keys(a)},r.resolve=i,e.exports=r,r.id="ef13"},f5cb:function(e,t,n){"use strict";var a=n("039f"),r=n.n(a);r.a}});
//# sourceMappingURL=app.be50c3f2.js.map